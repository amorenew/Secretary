Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/components/Panel.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _reactNative=require('react-native');var _reactNative2=_interopRequireDefault(_reactNative);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Panel=function(_Component){_inherits(Panel,_Component);function Panel(props){_classCallCheck(this,Panel);var _this=_possibleConstructorReturn(this,(Panel.__proto__||Object.getPrototypeOf(Panel)).call(this,props));_this.icons={'up':require('./images/Arrowhead-01-128.png'),'down':require('./images/Arrowhead-Down-01-128.png')};_this.state={title:props.title,expanded:true,animation:new _reactNative.Animated.Value()};return _this;}_createClass(Panel,[{key:'toggle',value:function toggle(){var initialValue=this.state.expanded?this.state.maxHeight+this.state.minHeight:this.state.minHeight,finalValue=this.state.expanded?this.state.minHeight:this.state.maxHeight+this.state.minHeight;this.setState({expanded:!this.state.expanded});this.state.animation.setValue(initialValue);_reactNative.Animated.spring(this.state.animation,{toValue:finalValue}).start();}},{key:'_setMaxHeight',value:function _setMaxHeight(event){this.setState({maxHeight:event.nativeEvent.layout.height});}},{key:'_setMinHeight',value:function _setMinHeight(event){this.setState({minHeight:event.nativeEvent.layout.height});}},{key:'render',value:function render(){var icon=this.icons['down'];if(this.state.expanded){icon=this.icons['up'];}return _reactNative2.default.createElement(_reactNative.Animated.View,{style:[styles.container,{height:this.state.animation}],__source:{fileName:_jsxFileName,lineNumber:59}},_reactNative2.default.createElement(_reactNative.View,{style:styles.titleContainer,onLayout:this._setMinHeight.bind(this),__source:{fileName:_jsxFileName,lineNumber:61}},_reactNative2.default.createElement(_reactNative.Text,{style:styles.title,__source:{fileName:_jsxFileName,lineNumber:62}},this.state.title),_reactNative2.default.createElement(_reactNative.TouchableHighlight,{style:styles.button,onPress:this.toggle.bind(this),underlayColor:'#f1f1f1',__source:{fileName:_jsxFileName,lineNumber:63}},_reactNative2.default.createElement(_reactNative.Image,{style:styles.buttonImage,source:icon,__source:{fileName:_jsxFileName,lineNumber:67}}))),_reactNative2.default.createElement(_reactNative.View,{style:styles.body,onLayout:this._setMaxHeight.bind(this),__source:{fileName:_jsxFileName,lineNumber:74}},this.props.children));}}]);return Panel;}(_reactNative.Component);var styles=_reactNative.StyleSheet.create({container:{backgroundColor:'#fff',margin:10,overflow:'hidden'},titleContainer:{flexDirection:'row'},title:{flex:1,padding:10,color:'#2a2f43',fontWeight:'bold'},button:{},buttonImage:{width:30,height:25},body:{padding:10,paddingTop:0}});exports.default=Panel;
